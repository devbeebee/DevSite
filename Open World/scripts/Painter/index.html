<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title id="seotitle">Unity3D Open World Project -DevBeeBee</title>
    <meta id="seokeys" name="keywords" content="Unity3D, Open World, Project">
    <meta id="seodescription" name="description" content="">
    <meta name=”robots” content="index, follow">
    <meta name="MobileOptimized" content="width" />
    <meta name="HandheldFriendly" content="true" />

    <link id="codeCSS" rel="stylesheet" href="/css/hybrid.css">
    <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
    <link rel="stylesheet" href="/css/my.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Raleway">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

    <script type="text/javascript" src="/js/jszip.js"></script>
    <script type="text/javascript" src="/js/jQuery.js"></script>
    <script type="text/javascript" src="/js/savecs.js"></script>
    <script type="text/javascript" src="/js/highlight.pack.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/highlightjs-line-numbers.js/2.8.0/highlightjs-line-numbers.min.js"></script>
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9754975194862641" crossorigin="anonymous"></script>
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-122930112-1"></script>
    <script>
        window.dataLayer = window.dataLayer || [];

        function gtag() {
            dataLayer.push(arguments);
        }
        gtag('js', new Date());

        gtag('config', 'UA-122930112-1');
    </script>
    <style>
        #spoilern {
            width: 100%;
            padding: 50px 0;
            text-align: center;
            background-color: lightblue;
            margin-top: 20px;
        }

        #spoilerbtnn {
            -webkit-text-size-adjust: 100%;
            box-sizing: inherit;
            font: inherit;
            text-transform: none;
            -webkit-appearance: button;
            color: #fff !important;
            background-color: #616161 !important;
            border: none;
            border-radius: 5px;
            padding: 8px 16px;
            vertical-align: middle;
            overflow: hidden;
            text-decoration: none;
            text-align: center;
            cursor: pointer;
            white-space: nowrap;
            user-select: none;
            box-shadow: none;
            display: block;
            margin-left: auto;
            margin-right: auto;
            width: 50%;
        }

        pre {
            width: 90%;
            margin: 20px;
            margin-left: 5%;
            margin-top: 4px;
            /* margin: -20px; */
        }

        .collapsible {
            background-color: #777;
            color: white;
            cursor: pointer;
            padding: 18px;
            width: 100%;
            border: none;
            text-align: left;
            outline: none;
            font-size: 15px;
        }

            .active, .collapsible:hover {
                background-color: #555;
            }

        .content {
            display: none;
            overflow: hidden;
        }
    </style>
</head>

<body class="w3-content" style="max-width:1600px">

    <!-- Sidebar/menu -->
    <nav class="w3-sidebar w3-collapse w3-animate-left" style="background-color: #0b0b0b; z-index:3;width:300px;" id="mySidebar">
        <br>
        <div class="w3-container">
            <a href="#" onclick="w3_close()" class="w3-hide-large w3-right w3-jumbo w3-padding w3-hover-grey" title="close menu">
                <i class="fa fa-remove"></i>
            </a>

            <h4><b>DevBeeBee</b></h4>
            <p class="w3-text-grey">A Place for all the thing's i have learned around coding.</p>
        </div>
        <div class="w3-bar-block">
            <a href="/" onclick="w3_close()" class="w3-bar-item w3-button w3-padding w3-text-teal">
                <i class="fa fa-th-large fa-fw w3-margin-right"></i>Home
            </a>
            <a href="#about" onclick="w3_close()" class="w3-bar-item w3-button w3-padding myNav">
                <i class="fa fa-user fa-fw w3-margin-right"></i>C# & Unity
            </a>
            <a href="#about" onclick="w3_close()" class="w3-bar-item w3-button w3-padding myNav">
                <i class="fa fa-user fa-fw w3-margin-right"></i>HTML JS CSS
            </a>
        </div>
        <script type="text/javascript" src="https://cdnjs.buymeacoffee.com/1.0.0/button.prod.min.js" data-name="bmc-button" data-slug="devbeebee" data-color="#5F7FFF" data-emoji="" data-font="Cookie" data-text="Buy me a coffee" data-outline-color="#000000" data-font-color="#ffffff"
                data-coffee-color="#FFDD00"></script>
    </nav>

    <!-- Overlay effect when opening sidebar on small screens -->
    <div class="w3-overlay w3-hide-large w3-animate-opacity" onclick="w3_close()" style="cursor:pointer" title="close side menu" id="myOverlay"></div>

    <!-- !PAGE CONTENT! -->
    <div class="w3-main" style="margin-left:300px">

        <!-- Header -->
        <header id="portfolio">

            <span class="w3-button w3-hide-large w3-xxlarge w3-hover-text-grey" onclick="w3_open()">
                <i class="fa fa-bars"></i>
            </span>
            <div class="w3-container">
                <h1 id="pagename" style="text-align: center;"><b>Painter</b></h1>
            </div>
        </header>
        
        <p style='text-align: center;font-variant: small-caps;'><a href='/Open World/'>Open World</a> - <a href='/Open World/scripts'>Scripts</a> -  Painter</p><h3>How to paint a Texture in Unity3D with C#</h3>   

<p style='text-align: center;'>
To paint an object / Texture in Unity3D first i use a Raycast to get the RaycastHit and then use the textureCoord from the hit.
</p>

<pre ><code >Vector2 pixelUV = hit.textureCoord;</code></pre>
<p style='text-align: center;'>
Now with the textureCoord witch is a Vector2 multiply the x by the texture width and the y by the texture height :
</p>
<pre ><code >pixelUV.x *= texture.width;
pixelUV.y *= texture.height;
</code></pre>

<p style='text-align: center;'>
Now after the multipilcation use two for loops to run threw the width and height of the brush / ammount of pixels around the textureCoord.
</p>

<pre ><code >for (int x = -size / 2; x &lt; size / 2; x++)
for (int y = -size / 2; y &lt; size / 2; y++)</code></pre>
<p style='text-align: center;'>
Then use texture.SetPixel() to color the pixels on the texture. 
</p>

<pre ><code >texture.SetPixel((int)(pixelUV.x + x), (int)(pixelUV.y + y), colorPicker.colorPicked);</code></pre>

<p style='text-align: center;'>
Finally once the two for loops are finished make sure to use texture.Apply() and now its just a case
of setting the mainTexture on the Material that you are modifying. 
</p>

<pre ><code >texture.Apply();</code></pre>
<p style='text-align: center;'>Painting a pixel
</p>
<pre ><code >materialToPaint.mainTexture = PaintPixel(pixelUV, brushSize);</code></pre>
<p style='text-align: center;'>Painting a Texture On Texture
</p>
<pre ><code >materialToPaint.mainTexture = PaintCircleOutline(pixelUV, circleSize);</code></pre>
<p style='text-align: center;'>Painting a circle outline
</p>
<pre ><code >materialToPaint.mainTexture = PaintTextureOnTextue(pixelUV, spriteToDraw);</code></pre>
<h3>How to paint a cirle outline onto  a Texture in Unity3D with C#</h3>   
<p style='text-align: center;'>
To paint an circle on a Texture in Unity3D the steps are the same.
</p>

<h3>How to paint a Texture onto a Texture in Unity3D with C#</h3>   
<p style='text-align: center;'>
To paint an Texture on a Texture in Unity3D the steps are the same like for painting a pixel but this time instead of looping the brush size loop though the texture size you wish
to paint. and on setting the pixel also get the pixel from the texture.
</p>
<pre ><code >texture.SetPixel((int)(pixelUV.x + x), (int)(pixelUV.y + y), spriteTexture.GetPixel(mainX, mainY));</code></pre>
        <div id="mainscript">
            <h4 style="text-align: center;" id="mainscriptname">Painter.cs <sup >4.1KB</sup></h4>
            <p style='text-align:center;'><p style='text-align:center;'><a href='/Open World/scripts/Color Picker'>Color Picker</a> <sup >988B</sup></p><p style='text-align:center;'><a href='/Open World/scripts/New Input'>New Input</a> <sup >3.9KB</sup></p></p>
            <button class='center'onclick='create_zip()'>Download (3) Files 8.9KB</button><br>
            <pre ><code style='font-size: 12px;'class='language-csharp hljs'id='mainscriptcode'>using UnityEngine;
using UnityEngine.InputSystem;


public class Painter : MonoBehaviour
{
    public string dirName = &quot;Saved2D_Textures&quot;;
    public string fileName = &quot;textToPng&quot;;
    public enum PaintBrush { Pixel , CircleOutLine, Texture};
    public PaintBrush brush;
    public ColorPicker colorPicker = new ColorPicker();
    public Texture2D spriteToDraw;
    public Material materialToPaint;
    public int picSize = 128;
    public int brushSize = 4;
    public int circleSize = 4;
    public float end;
    public bool newImg;
    public bool saveImg;
    Texture2D texture;
    void Start() 
    {
        colorPicker = new ColorPicker();
        NewImage(); 
    }
    
    void NewImage()
    {
        texture = new Texture2D(picSize, picSize);
        materialToPaint.mainTexture = texture;
    }
    void Update()
    {
        if (newImg == true)
        {
            NewImage();
            newImg = false;
        }
        if (saveImg == true)
        {
            texture.SaveTxt2D(dirName, fileName);
            saveImg = false;
        }
        if (NewInput.Instance.RawFire==1)
        {
            Ray ray = Camera.main.ScreenPointToRay(Mouse.current.position.ReadValue());
            if (Physics.Raycast(ray, out RaycastHit hit))
            {
                HandleRaycastHit(hit);
            }
        }
    }

    private void HandleRaycastHit(RaycastHit hit)
    {
        Vector2 pixelUV = hit.textureCoord;
        pixelUV.x *= texture.width;
        pixelUV.y *= texture.height;
        switch (brush)
        {
            case PaintBrush.Pixel:
                materialToPaint.mainTexture = PaintPixel(pixelUV, brushSize);
                break;
            case PaintBrush.CircleOutLine:
                materialToPaint.mainTexture = PaintCircleOutline(pixelUV, circleSize);
                break;
            case PaintBrush.Texture:
                materialToPaint.mainTexture = PaintTextureOnTextue(pixelUV, spriteToDraw);
                break;
        }
    }

    public Texture2D PaintTextureOnTextue(Vector2 pixelUV, Texture2D spriteTexture)
    {
        for (int x = -spriteTexture.width / 2; x &lt; spriteTexture.width / 2; x++)
        {
            for (int y = -spriteTexture.height / 2; y &lt; spriteTexture.height / 2; y++)
            {
                int mainX = x + spriteTexture.width / 2;
                int mainY = y + spriteTexture.height / 2;
                if (spriteTexture.GetPixel(mainX, mainY).a != 0)
                {
                    texture.SetPixel((int)(pixelUV.x + x), (int)(pixelUV.y + y), spriteTexture.GetPixel(mainX, mainY));
                }
            }
        }
        texture.Apply();
        return texture;
    }
    Texture2D PaintPixel(Vector2 pixelUV, int size)
    {
        for (int x = -size / 2; x &lt; size / 2; x++)
        {
            for (int y = -size / 2; y &lt; size / 2; y++)
            {
                texture.SetPixel((int)(pixelUV.x + x), (int)(pixelUV.y + y), colorPicker.colorPicked);
            }
        }

        texture.Apply();
        return texture;
    }

    Texture2D PaintCircleOutline(Vector2 pixelUV, int radious)
    {
        

        //center
        int cx = (int)pixelUV.x;
        int cy = (int)pixelUV.y;
        var y = radious;
        var d = 1 / 4 - y;
        float end = Mathf.Ceil(y / Mathf.Sqrt(2));

        Color col = colorPicker.colorPicked;
        for (int x = 0; x &lt;= end; x++)
        {
            texture.SetPixel(cx + x, cy + y, col);
            texture.SetPixel(cx + x, cy - y, col);
            texture.SetPixel(cx - x, cy + y, col);
            texture.SetPixel(cx - x, cy - y, col);
            texture.SetPixel(cx + y, cy + x, col);
            texture.SetPixel(cx - y, cy + x, col);
            texture.SetPixel(cx + y, cy - x, col);
            texture.SetPixel(cx - y, cy - x, col);

            d += 2 * x + 1;
            if (d &gt; 0)
            {
                d += 2 - 2 * y--;
            }

        }

        texture.Apply();
        return texture;
    }
}</code></pre>
        </div>

        <!-- Footer -->
        <footer class="w3-container w3-padding-32 w3-dark-grey">
            <div class="w3-row-padding">
                <div class="w3-half" >
                    <h3 style="color: #a0cc1b !important;">Random Quote</h3>
                    <p id="footer"></p>
                </div>
                <div class="w3-half" >
                    <h3 style="color: #a0cc1b !important;">Popular Scripts</h3>
                    <p id="elements">

                    </p>
                </div>

            </div>
        </footer>

        <div class="w3-black w3-center">
            Powered by
            <a href="https://www.w3schools.com/w3css/default.asp" title="W3.CSS" target="_blank" class="w3-hover-opacity">w3.css</a>
        </div>

        <!-- End page content -->
    </div>

    <script>
        // Script to open and close sidebar
        function w3_open() {
            document.getElementById("mySidebar").style.display = "block";
            document.getElementById("myOverlay").style.display = "block";
        }

        function w3_close() {
            document.getElementById("mySidebar").style.display = "none";
            document.getElementById("myOverlay").style.display = "none";
        }

        document.addEventListener('DOMContentLoaded', (event) => {
            document.querySelectorAll('pre code').forEach((block) => {
                hljs.highlightElement(block);
                hljs.initLineNumbersOnLoad();
            });
        });

        function create_zip() {
            var content = zip.generate();
            location.href = "data:application/zip;base64," + content;
        }
        var zip = new JSZip();
        function addto_zip(name, value) {
            zip.add(name, value);
        }
     const colors = [{"Painter.cs": "/Open World/scripts/Painter/Painter.cs"}
,{"ColorPicker.cs": "/Open World/scripts/Color Picker/ColorPicker.cs"}
,{"NewInput.cs": "/Open World/scripts/New Input/NewInput.cs"}
];


            $.each(colors, function () {
                $.each(this, function (name, url) {
                    $.ajax({
                        async: true,
                        type: 'GET',
                        url: `${url}`,
                        success: function (data) {
                            addto_zip(`${name}`, data)
                        }
                    });
                });
            });
           // create_zip();
            
            /*/ReplaceWithMethod/*/
            function myFunction(btnele, elementid) {

                var xbtn = document.getElementById(btnele);

                var x = document.getElementById(elementid);
                if (x.style.display === "none") {
                    x.style.display = "block";
                    xbtn.innerText = "Hide Content";
                } else {
                    x.style.display = "none";
                    xbtn.innerText = "Show Content";
                }
            }

        function ToggleIt(btneleindex, elementid) {
            console.log("Here");
            var i;
            var coll = document.getElementsByClassName("content");

            var x = document.getElementById(elementid);

            for (i = 0; i < coll.length; i++) {
                coll[i].style.display = "none";
            }
            x.style.display = "inline";
        }


     var messages =['\ Aim Assist','\ Async Operation Progress Example','\ Audio Manager','\ Base Item Scriptable','\ Base Npc Scriptable','\ Base Vehicle Scriptable','\ Base Vehicle Trailer Scriptable','\ Binoculars','\ Camera Extensions','\ Camera Raycaster','\ Car Controller','\ Change Terrain Height_line Marker','\ Character Customization Camera','\ Character Customization GUI','\ Collectable','\ Collectable Object','\ Collectables','\ Color Picker','\ Custom Tags','\ Custom Tag System','\ Experience','\ Explosive','\ Flash Light','\ Fuel Pump','\ Fuel Station','\ Fuel System','\ Game Manager','\ Game Object Extensions','\ Global Static Data','\ Grid Placement','\ Grid Placement Move Object','\ Interaction','\ Interaction Raycaster','\ Item','\ Line Renderer Route','\ List Extensions','\ Loading Screen','\ Minimap','\ Mirror Reflection','\ Modular Construction','\ My Colors','\ New Input','\ New Input Test','\ Nothing But Math','\ NPC','\ Object Damageable','\ Painter','\ Pause Game','\ PIDController','\ Player Camera','\ Player Manager','\ Raise Lower Terrain','\ Recalculate Bounds','\ Rotate Me','\ Saveables','\ Save Texture To File','\ Singleton','\ Singleton Dont Destroy On Load','\ Spawner','\ String Extensions','\ Target Object','\ Terrain Adjuster Runtime','\ Terrain Editorv2','\ Texture Scale','\ TMP_ Dropdown Extensions','\ Trailer Controller','\ Trailer Landing Gear','\ Transform Extensions','\ Vechile Fuel','\ Vehicle Controller','\ Vehicle Controller AI Control','\ Vehicle Door Controller','\ Vehicle Trailer Controller','\ Vehicle Wheel Layout','\ Visual Waypoint Route','\ Weapon Manager','\ Weapon Scriptable',]
            function getMessage() {
                return messages[Math.floor(Math.random() * messages.length)];
            }
        function RandomTagScripts() {
            var rnd = Math.floor(Math.random() * 15) + 5;
            for (i = 0; i < rnd; i++) {
                $("#elements").append(" <a href='#'><span class='w3-tag w3-grey w3-small w3-margin-bottom'>" + getMessage() + " </span></a>");
            }
        }
        var quoutes = ["“It’s harder to read code than to write it.” — Joel Spolsky"
            , "“Code never lies; comments sometimes do.” — Ron Jeffries", "“There are two hard things in computer science: cache invalidation, naming things, and off-by-one errors.” — Leon Bambrick",
            "“Give a man a program, frustrate him for a day.Teach a man to program, frustrate him for a lifetime.” ― Muhammad Waseem",
            "“Some of the best programming is done on paper, really. Putting it into the computer is just a minor detail.” ― Max Kanat - Alexander",
            "“You Disingenuous Dense Motherfucker.” ― DarkViperAU", "“i am committed to push my branch to the master” ― Halgurd Hussein",
            "“Web development is difficult, only then it is fun to do. You just have to set your standards. If it were to be easy, would anyone do it?” ― Olawale Daniel",
            "“Programming is learned by writing programs.” ― Brian Kernighan",
            "“ Code is like humor. When you have to explain it, it’s bad.” – Cory House",
            "“Whether you want to uncover the secrets of the universe, or you just want to pursue a career in the 21st century, basic computer programming is an essential skill to learn.” ― Stephen Hawking"]
        function getQuoute() {
            return quoutes[Math.floor(Math.random() * quoutes.length)];
        }
        $("#footer").append(" " + getQuoute() + " ");

        RandomTagScripts();
    </script>

</body>

</html>